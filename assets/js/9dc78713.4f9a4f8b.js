"use strict";(self.webpackChunkstatemesh_docs=self.webpackChunkstatemesh_docs||[]).push([[5517],{6876:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"applications/configure","title":"Configure your Application","description":"Applications support various configuration options to customize their behavior. This page provides an overview of the configuration options available for applications running on StateMesh.","source":"@site/docs/applications/configure.mdx","sourceDirName":"applications","slug":"/applications/configure","permalink":"/applications/configure","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Configure your Application"},"sidebar":"mySidebar","previous":{"title":"Create an App","permalink":"/applications/create"},"next":{"title":"Manage an App","permalink":"/applications/manage"}}');var o=t(4848),a=t(8453),r=t(9844),s=t(6645);const l={title:"Configure your Application"},c=void 0,p={},h=[{value:"Application-level configuration",id:"application-level-configuration",level:2},{value:"Replicas",id:"replicas",level:3},{value:"Containers",id:"containers",level:3},{value:"Advanced Settings",id:"advanced-settings",level:3},{value:"Annotations",id:"annotations",level:3},{value:"Container-level configuration",id:"container-level-configuration",level:2},{value:"Container image",id:"container-image",level:3},{value:"Network",id:"network",level:3},{value:"Storage",id:"storage",level:3},{value:"Advanced section",id:"advanced-section",level:3},{value:"Container type",id:"container-type",level:4},{value:"Start command",id:"start-command",level:4},{value:"Environment variables",id:"environment-variables",level:4},{value:"Resource allocation",id:"resource-allocation",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Applications support various configuration options to customize their behavior. This page provides an overview of the configuration options available for applications running on StateMesh."}),"\n",(0,o.jsxs)(n.p,{children:["Application can be configured from the ",(0,o.jsx)(n.code,{children:"Configuration"})," tab in the application details page."]}),"\n",(0,o.jsx)(n.h2,{id:"application-level-configuration",children:"Application-level configuration"}),"\n",(0,o.jsx)(n.h3,{id:"replicas",children:"Replicas"}),"\n",(0,o.jsx)(n.p,{children:"The number of replicas determines how many instances of the container will be running. This is useful for high availability and load balancing. If you set the number of replicas to 2, for example, two instances of the container will be running and the traffic will be load balanced between them."}),"\n",(0,o.jsx)(n.h3,{id:"containers",children:"Containers"}),"\n",(0,o.jsxs)(n.p,{children:["Configure one or more containers that package your application. Each container has its own configuration, such as the container image, port settings, storage volumes, and environment variables. See the ",(0,o.jsx)(n.a,{href:"#container-level-configuration",children:"Container-level configuration"})," section for more details."]}),"\n",(0,o.jsx)(n.h3,{id:"advanced-settings",children:"Advanced Settings"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Advanced Settings"})," section allows you to configure additional settings for your application."]}),"\n",(0,o.jsx)(r.A,{src:"/img/snippets/app-advanced.png",alt:"Advanced Settings",caption:"Configure advanced settings for your application"}),"\n",(0,o.jsx)(n.p,{children:"The following options are available:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Update Strategy"}),": If there are multiple replicas of your application, the update strategy determines how the containers are updated after you change the configuration. The options are:"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Simultaneous Update"}),": Old containers are stopped and new ones are started."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rolling Update (recommended)"}),": The new containers are started and the old ones are stopped, one at a time."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"annotations",children:"Annotations"}),"\n",(0,o.jsx)(n.p,{children:"Annotations are key-value pairs that can be used to add metadata to your application."}),"\n",(0,o.jsx)(n.h2,{id:"container-level-configuration",children:"Container-level configuration"}),"\n",(0,o.jsx)(n.h3,{id:"container-image",children:"Container image"}),"\n",(0,o.jsx)(n.p,{children:"Every application running on StateMesh is packaged as a container image. The container image contains the application code, dependencies, and runtime environment. You can use any Docker-compatible container image."}),"\n",(0,o.jsx)(n.p,{children:"Images can be pulled either from public repositories, or from private repositories that require authentication. You can also build your own images and publish them to a public or private repository and have StateMesh use that image."}),"\n",(0,o.jsx)(r.A,{src:"/img/snippets/container-image.png",alt:"Container Image",caption:"Choosing the container image for your application"}),"\n",(0,o.jsxs)(n.p,{children:["To choose an image from ",(0,o.jsx)(n.a,{href:"https://hub.docker.com",children:"DockerHub"})," choose ",(0,o.jsx)(s.A,{component:"button",variant:"smButton",children:"Search DockerHub"})," and enter some search terms."]}),"\n",(0,o.jsxs)(n.p,{children:["To use a private image, choose ",(0,o.jsx)(s.A,{component:"button",variant:"smButton",children:"Private Registry"})," and enter the registry URL, username, and password."]}),"\n",(0,o.jsx)(n.h3,{id:"network",children:"Network"}),"\n",(0,o.jsxs)(n.p,{children:["Once you've selected your desired container image, you can configure the ports the image will expose from the ",(0,o.jsx)(n.strong,{children:"Network"})," section"]}),"\n",(0,o.jsx)(r.A,{src:"/img/snippets/container-network.png",alt:"Container ports",caption:"Choosing the ports exposed by the container"}),"\n",(0,o.jsx)(n.p,{children:"The following options are available:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Protocol"}),": TCP or UDP"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Name"}),": This is the name of the port, and is used to reference the port in other parts of the application configuration."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Container Port"}),": The port the container is listening on."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Service Port"}),": The port to expose the container to other containers / applications."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ingress"}),": Whether the port is used as the ingress port for public internet traffic to your application. If you enable this, the public DNS name of your application will route traffic to this port."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["You can use ",(0,o.jsx)(s.A,{component:"button",variant:"smButton",children:"Use default ports of image"})," to pre-fill all ports exposed by the container image."]}),"\n",(0,o.jsx)(n.h3,{id:"storage",children:"Storage"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"Storage"})," section allows you to configure storage volumes that will be attached to the container."]}),"\n",(0,o.jsx)(r.A,{src:"/img/snippets/container-storage.png",alt:"Container Storage",caption:"Add storage volumes to your container"}),"\n",(0,o.jsx)(n.p,{children:"The following options are available:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Name"}),": The name of the volume. You can create a new volume or use an existing one."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Size"}),": The size of the volume in GB."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Mount Path"}),": The path in the container where the volume will be mounted."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Read Only"}),": Whether the container can write to the volume."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ephemeral"}),": Whether the volume is ephemeral and will be deleted when the container is stopped."]}),"\n"]}),"\n",(0,o.jsxs)(n.admonition,{type:"tip",children:[(0,o.jsxs)(n.p,{children:["The default storage provider for the volume is ",(0,o.jsx)(n.strong,{children:"StateMesh"}),", which means that volumes are provided by the StateMesh organization, using our own network storage system."]}),(0,o.jsx)(n.p,{children:"The data you store with us is encrypted and replicated across multiple machines. This is typically used for sensitive data, because nodes never have access to this data."})]}),"\n",(0,o.jsxs)(n.p,{children:["You can switch the storage provider to ",(0,o.jsx)(s.A,{component:"button",variant:"smButton",children:"S3 Bucket"})," to bring your own storage using any S3-compatible provider like AWS, Cloudflare R2, etc. StateMesh does not store any data from your S3 bucket."]}),"\n",(0,o.jsxs)(n.p,{children:["Please see the ",(0,o.jsx)(n.a,{href:"./storage-providers",children:"Storage Providers"})," page for more information on how each storage provider works and how to configure it."]}),"\n",(0,o.jsx)(n.h3,{id:"advanced-section",children:"Advanced section"}),"\n",(0,o.jsx)(n.h4,{id:"container-type",children:"Container type"}),"\n",(0,o.jsxs)(n.p,{children:["By default, containers are ",(0,o.jsx)(n.strong,{children:"worker containers"})," that handle your actual app's work. If you need to perform some initialization tasks that run up to completion before your application starts you can do it using an ",(0,o.jsx)(n.strong,{children:"init container"}),"."]}),"\n",(0,o.jsx)(r.A,{src:"/img/snippets/container-type.png",alt:"Container type",caption:"Change the type of the container"}),"\n",(0,o.jsx)(n.h4,{id:"start-command",children:"Start command"}),"\n",(0,o.jsx)(n.p,{children:"You customize the command run by the container upon startup. By default, the container runs the default command specified in the container image."}),"\n",(0,o.jsx)(r.A,{src:"/img/snippets/container-start-command.png",alt:"Container Start Command",caption:"Customize the command run by the container upon startup"}),"\n",(0,o.jsx)(n.p,{children:"The following options are available:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Start command"}),": The command to run when the container starts. This can be a shell command or a script."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Parameters"}),": Additional parameters to pass to the command. Note that you cannot append parameters to the command itself, you must specify them separately here."]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"environment-variables",children:"Environment variables"}),"\n",(0,o.jsx)(n.p,{children:"Use this section to configure environment variables that will be available to the container at runtime."}),"\n",(0,o.jsx)(r.A,{src:"/img/snippets/container-env-vars.png",alt:"Container Environment Variables",caption:"Add environment variables to your container"}),"\n",(0,o.jsxs)(n.admonition,{title:"Predefined variables",type:"info",children:[(0,o.jsx)(n.p,{children:"Predefined variables are environment variables that provide various system attributes. They are injected by default into your container and you can access them directly from your application or reference them into other environment variables using the $([variable]) syntax:"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"INGRESS_DOMAIN"}),": The public URL that will be used to access your application. (Some applications may need to know in advance the proxying endpoint)"]}),"\n"]})]}),"\n",(0,o.jsx)(n.h4,{id:"resource-allocation",children:"Resource allocation"}),"\n",(0,o.jsx)(n.p,{children:"Use this section to configure environment variables that will be available to the container at runtime."}),"\n",(0,o.jsx)(r.A,{src:"/img/snippets/container-resource-alloc.png",alt:"Container Resource Allocation",caption:"Configure resource allocation for your container"}),"\n",(0,o.jsx)(n.p,{children:"The following options are available:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"CPU"}),": The number of CPU cores to allocate to the container. You can also specify fractions of a core."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Memory"}),": The amount of memory to allocate to the container."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},6645:(e,n,t)=>{t.d(n,{A:()=>j});var i=t(6540),o=t(4164),a=t(5659),r=t(9599),s=t(4848);var l=t(1848),c=t(9559),p=t(5669),h=t(8466),d=t(6279),u=t(8413),g=t(7936);function m(e){return(0,g.Ay)("MuiTypography",e)}(0,u.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const v={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},f=r.A,x=(0,l.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.variant&&n[t.variant],"inherit"!==t.align&&n[`align${(0,h.A)(t.align)}`],t.noWrap&&n.noWrap,t.gutterBottom&&n.gutterBottom,t.paragraph&&n.paragraph]}})((0,c.A)((({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter((([e,n])=>"inherit"!==e&&n&&"object"==typeof n)).map((([e,n])=>({props:{variant:e},style:n}))),...Object.entries(e.palette).filter((0,d.A)()).map((([n])=>({props:{color:n},style:{color:(e.vars||e).palette[n].main}}))),...Object.entries(e.palette?.text||{}).filter((([,e])=>"string"==typeof e)).map((([n])=>({props:{color:`text${(0,h.A)(n)}`},style:{color:(e.vars||e).palette.text[n]}}))),{props:({ownerState:e})=>"inherit"!==e.align,style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]})))),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},j=i.forwardRef((function(e,n){const{color:t,...i}=(0,p.b)({props:e,name:"MuiTypography"}),r=f({...i,...!v[t]&&{color:t}}),{align:l="inherit",className:c,component:d,gutterBottom:u=!1,noWrap:g=!1,paragraph:j=!1,variant:b="body1",variantMapping:w=y,...A}=r,S={...r,align:l,color:t,className:c,component:d,gutterBottom:u,noWrap:g,paragraph:j,variant:b,variantMapping:w},T=d||(j?"p":w[b]||y[b])||"span",C=(e=>{const{align:n,gutterBottom:t,noWrap:i,paragraph:o,variant:r,classes:s}=e,l={root:["root",r,"inherit"!==e.align&&`align${(0,h.A)(n)}`,t&&"gutterBottom",i&&"noWrap",o&&"paragraph"]};return(0,a.A)(l,m,s)})(S);return(0,s.jsx)(x,{as:T,ref:n,className:(0,o.A)(C.root,c),...A,ownerState:S,style:{..."inherit"!==l&&{"--Typography-textAlign":l},...A.style}})}))},9599:(e,n,t)=>{t.d(n,{A:()=>r});var i=t(1317),o=t(2957);const a=e=>{const n={systemProps:{},otherProps:{}},t=e?.theme?.unstable_sxConfig??o.A;return Object.keys(e).forEach((i=>{t[i]?n.systemProps[i]=e[i]:n.otherProps[i]=e[i]})),n};function r(e){const{sx:n,...t}=e,{systemProps:o,otherProps:r}=a(t);let s;return s=Array.isArray(n)?[o,...n]:"function"==typeof n?(...e)=>{const t=n(...e);return(0,i.Q)(t)?{...o,...t}:o}:{...o,...n},{...r,sx:s}}},9844:(e,n,t)=>{t.d(n,{A:()=>r});t(6540);var i=t(6025),o=t(5293),a=t(4848);function r(e){let{src:n,darkSrc:t,caption:r}=e;const s="dark"===(0,o.G)().colorMode,l=t||n;return(0,a.jsxs)("figure",{style:{padding:20},children:[(0,a.jsx)("img",{src:s?(0,i.Ay)(l):(0,i.Ay)(n),alt:r}),r&&(0,a.jsx)("figcaption",{style:{textAlign:"center",fontWeight:200,marginTop:"1rem"},children:`Figure: ${r}`})]})}}}]);